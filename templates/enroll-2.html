<!DOCTYPE html>
<!---Coding By CodingLab | www.codinglabweb.com--->
<html lang="en">

{% include "Head.html" %}
<!---enrol form css-->
<link rel="stylesheet" href="{{ url_for('static', filename='css/enroll.css') }}">

<body>
    <section class="container">
        <header>Academic Qualification</header>
        <h5 style="margin-top: 15px;text-decoration: underline;">Programme</h5>
        <form action="index.html" class="form">
            <div class="input-box">
                <label>Qualification</label>
                <div class="column">
                    <div class="select-box">
                        <select name="qualification" required>
                            <option hidden>Qualification</option>
                            <option>SPM</option>
                            <option>O Level</option>
                        </select>
                    </div>
                    <div class="select-box" name="typeOfResult">
                        <select>
                            <option hidden>Type Of Result</option>
                            <option>Actual Result</option>
                            <option>Trial/Provisional results</option>
                        </select>
                    </div>
                </div>
            </div>
            <div id="input-container>
               <label>Subject & Grade</label>
                <div class="input-box" id="input-box1">
                    <div class="column">
                            <div class="select-box">
                                <select id="subject1" name="subject" required>
                                    <option value="" disabled selected>Select Subject</option>
                                    <option value="Math">Math</option>
                                    <option value="Science">Science</option>
                                    <option value="History">History</option>
                                    <option value="History1">History</option>
                                    <option value="History2">History</option>
                                    <option value="History3">History</option>
                                    <option value="History4">History</option>
                                    <option value="History5">History</option>
                                    <!-- Add more subjects here -->
                                </select>
                            </div>
                       
                            <div class="select-box">
                                <select id="grade1" name="grade" required>
                                    <option value="" disabled selected>Select Grade</option>
                                    <!-- Add your grade options here -->
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                </select>
                            </div>
                    </div>
                </div>
            
                <div class="input-box" id="input-box-2">
                    <div class="column">
                        <div class="subject-grade">
                            <div class="select-box">
                                <select id="subject2" name="subject" required>
                                    <option value="" disabled selected>Select Subject</option>
                                    <option value="Math">Math</option>
                                    <option value="Science">Science</option>
                                    <option value="History">History</option>
                                    <option value="History1">History</option>
                                    <option value="History2">History</option>
                                    <option value="History3">History</option>
                                    <option value="History4">History</option>
                                    <option value="History5">History</option>
                                    <!-- Add more subjects here -->
                                </select>
                            </div>
                            <div class="select-box">
                                <select id="grade2" name="grade" required>
                                    <option value="" disabled selected>Select Grade</option>
                                    <!-- Add your grade options here -->
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="input-box" id="input-box-3">
                    <div class="column">
                        <div class="subject-grade">
                            <div class="select-box">
                                <select id="subject3" name="subject" required>
                                    <option value="" disabled selected>Select Subject</option>
                                    <option value="Math">Math</option>
                                    <option value="Science">Science</option>
                                    <option value="History">History</option>
                                    <option value="History1">History</option>
                                    <option value="History2">History</option>
                                    <option value="History3">History</option>
                                    <option value="History4">History</option>
                                    <option value="History5">History</option>
                                    <!-- Add more subjects here -->
                                </select>
                            </div>
                            <div class="select-box">
                                <select id="grade3" name="grade" required>
                                    <option value="" disabled selected>Select Grade</option>
                                    <!-- Add your grade options here -->
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                </select>
                            </div>
                        </div>
                    </div>
                 </div>
            </div>
            <div class="column">
                <button type="button" id="remove-subject-button" class="remove-subject-button" disabled>
                    Remove One Subject
                </button>
                <button type="button" id="add-subject-button" class="add-subject-button" disabled>
                    Add Another Subject
                </button>
            </div>
            <div class="file-box input-box column">
                <label>Result Certificate</label>
                <input type="file" id="resultCert" name="resultCert">
            </div>
            <div class="column">
                <button>Check Qualification</button>
                <button>Enroll Now</button>
            </div>
        </form>
    </section>
    <a href="#" class="back-to-top"><i class="fa fa-angle-up"></i></a>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const inputContainer = document.getElementById("input-container");
            const addButton = document.querySelector(".add-subject-button");
            const removeButton = document.querySelector(".remove-subject-button");

            // Initialize subject count
            let subjectCount = 3;

            // Disable the "Remove One Subject" button by default
            removeButton.disabled = true;

            // Function to check if all subject and grade fields are selected
            function checkFields() {
                let allFieldsSelected = true;
                for (let i = 1; i <= subjectCount; i++) {
                    const subjectDropdown = document.getElementById(`subject${i}`);
                    const gradeDropdown = document.getElementById(`grade${i}`);
                    if (subjectDropdown.value === "" || gradeDropdown.value === "") {
                        allFieldsSelected = false;
                        break;
                    }
                }
                return allFieldsSelected;
            }

            // Function to enable/disable buttons based on field selection
            function updateButtonState() {
                if (subjectCount >= 3 && checkFields()) {
                    addButton.disabled = false;
                } else {
                    addButton.disabled = true;
                }

                if (subjectCount > 3) {
                    removeButton.disabled = false;
                } else {
                    removeButton.disabled = true;
                }
            }

            addButton.addEventListener("click", function () {
                if (subjectCount < 8) {
                    const index = subjectCount + 1;
                    const inputBox = document.createElement("div");
                    inputBox.className = "input-box";
                    inputBox.id = `input-box-${index}`;
                    inputBox.innerHTML = `
                        <div class="column">
                            <div class="subject-grade">
                                <div class="select-box">
                                    <select id="subject${index}" name="subject" required>
                                        <option value="" disabled selected>Select Subject</option>
                                        <option value="Math">Math</option>
                                        <option value="Science">Science</option>
                                        <option value="History">History</option>
                                        <option value="History1">History</option>
                                        <option value="History2">History</option>
                                        <option value="History3">History</option>
                                        <option value="History4">History</option>
                                        <option value="History5">History</option>
                                    </select>
                                </div>
                                <div class="select-box">
                                    <select id="grade${index}" name="grade" required>
                                        <option value="" disabled selected>Select Grade</option>
                                        <!-- Add your grade options here -->
                                        <option value="A">A</option>
                                        <option value="B">B</option>
                                        <option value="C">C</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    `;
                    inputContainer.appendChild(inputBox);
                    subjectCount++;

                    if (subjectCount > 3) {
                        removeButton.disabled = false;
                    }

                    if (subjectCount >= 8) {
                        addButton.disabled = true;
                    }
                }
                updateButtonState();
            });

            inputContainer.addEventListener("change", function () {
                updateButtonState();
            });

            function remove() {
                if (subjectCount > 3) {
                    const index = subjectCount;
                    const inputBoxToRemove = document.getElementById(`input-box-${index}`);
                    if (inputBoxToRemove) {
                        inputContainer.removeChild(inputBoxToRemove);
                        subjectCount--;
                        if (subjectCount <= 3) {
                            removeButton.disabled = true;
                        }
                        if (subjectCount < 8) {
                            addButton.disabled = false;
                        }
                    }
                    updateButtonState();
                }
            }

            removeButton.addEventListener("click", remove);
        });
    </script>
</body>

</html>
